"use strict";(self.webpackChunkeliterz=self.webpackChunkeliterz||[]).push([[592],{2529:(A,c,i)=>{i.d(c,{B:()=>E});var a=i(6814),n=i(6223),l=i(1531),m=i(8733),u=i(5879),p=i(2942),g=i(887),d=i(9301);function v(o,_){1&o&&(u.TgZ(0,"div"),u._uU(1,"\u0647\u0630\u0627 \u0627\u0644\u062d\u0642\u0644 \u0645\u0637\u0644\u0648\u0628."),u.qZA())}function h(o,_){1&o&&(u.TgZ(0,"div"),u._uU(1,"\u0627\u0644\u0648\u0635\u0641 \u064a\u062c\u0628 \u0623\u0646 \u064a\u0643\u0648\u0646 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 10 \u0623\u062d\u0631\u0641."),u.qZA())}function f(o,_){if(1&o&&(u.TgZ(0,"div",8),u.YNc(1,v,2,0,"div",9),u.YNc(2,h,2,0,"div",9),u.qZA()),2&o){const s=u.oxw();let t,e;u.xp6(1),u.Q6J("ngIf",null==(t=s.complaintForm.get("description"))||null==t.errors?null:t.errors.required),u.xp6(1),u.Q6J("ngIf",null==(e=s.complaintForm.get("description"))||null==e.errors?null:e.errors.minlength)}}let E=(()=>{class o{constructor(s,t,e,r,C){this.fb=s,this.homeService=t,this.authService=e,this.router=r,this._MessagesService=C,this.complaintForm=this.fb.group({description:["",[n.kI.required,n.kI.minLength(10)]]})}ngOnInit(){}onSubmit(){this.authService.isLoggedIn.subscribe(s=>{if(s){if(this.complaintForm.valid){const t=JSON.parse(localStorage.getItem("user")||"{}");this.homeService.complaint({description:this.complaintForm.value.description,status:"pending",user_id:t.id}).subscribe({next:r=>{this.complaintForm.reset(),this._MessagesService.showSuccessMessage("\u0634\u0643\u0631\u0627 \u0648 \u0633\u064a\u062a\u0645 \u0627\u0644\u0631\u062f \u0639\u0644\u064a\u0643\u0645 \u0641\u0649 \u0627\u0633\u0631\u0639 \u0648\u0642\u062a",3e3)},error:r=>{console.error("Error submitting complaint",r)}})}}else this.router.navigate(["/ar/auth/login"])})}static#u=this.\u0275fac=function(t){return new(t||o)(u.Y36(n.qu),u.Y36(p.Y),u.Y36(g.e),u.Y36(l.F0),u.Y36(d.K))};static#t=this.\u0275cmp=u.Xpm({type:o,selectors:[["app-complaint"]],standalone:!0,features:[u.jDz],decls:11,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"form-group","mb-3"],["formControlName","description","name","suggestBox","cols","30","rows","5","placeholder","\u0627\u062f\u062e\u0644 \u0627\u0644\u0645\u0642\u062a\u0631\u062d \u0627\u0648 \u0627\u0644\u0634\u0643\u0648\u064a \u0627\u0644\u062e\u0627\u0635 \u0628\u0643",1,"form-control","b-t-radius","bc-blue"],["class","ms-error",4,"ngIf"],[1,"form-group","text-sm-start","text-center"],["type","submit",1,"btn","bg-linear","c-white","b-d-radius","px-5","py-3","me-sm-3","mb-sm-0","mb-2"],[1,"px-5"],[1,"btn","bc-white","c-white","py-3",3,"routerLink"],[1,"ms-error"],[4,"ngIf"]],template:function(t,e){if(1&t&&(u.TgZ(0,"form",0),u.NdJ("ngSubmit",function(){return e.onSubmit()}),u.TgZ(1,"div",1),u._UZ(2,"textarea",2),u.YNc(3,f,3,2,"div",3),u.qZA(),u.TgZ(4,"div",4)(5,"button",5)(6,"span",6),u._uU(7,"\u0627\u0631\u0633\u0627\u0644"),u.qZA()(),u.TgZ(8,"a",7),u.ALo(9,"localize"),u._uU(10,"\u0639\u0631\u0636 \u062c\u0645\u064a\u0639 \u0627\u0644\u0645\u0642\u062a\u0631\u062d\u0627\u062a \u0627\u0648 \u0627\u0644\u0634\u0643\u0627\u0648\u064a"),u.qZA()()()),2&t){let r;u.Q6J("formGroup",e.complaintForm),u.xp6(3),u.Q6J("ngIf",(null==(r=e.complaintForm.get("description"))?null:r.touched)&&(null==(r=e.complaintForm.get("description"))?null:r.invalid)),u.xp6(5),u.Q6J("routerLink",u.lcZ(9,3,"/jobs/complaints"))}},dependencies:[a.ez,a.O5,n.u5,n._Y,n.Fj,n.JJ,n.JL,l.Bz,l.rH,n.UX,n.sg,n.u,m.fQ,m.lO]})}return o})()}}]);